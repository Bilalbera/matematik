<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zeka OyunlarÄ± PortalÄ± - v1.0</title>
    <style>
        :root { --primary: #00d2ff; --bg: #121212; --card: #1e1e1e; }
        body { 
            font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; 
            display: flex; justify-content: center; align-items: center; 
            min-height: 100vh; margin: 0; overflow: hidden; transition: background 0.2s;
        }

        .container { 
            background: var(--card); padding: 30px; border-radius: 30px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.6); text-align: center; 
            width: 380px; min-height: 500px; border: 1px solid #333; 
            position: relative; display: flex; flex-direction: column; justify-content: center;
        }

        /* MenÃ¼ Stilleri */
        h1 { color: var(--primary); letter-spacing: 2px; margin-bottom: 25px; }
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .menu-btn { 
            background: #2c2c2c; border: 2px solid #444; color: white; 
            padding: 25px 10px; border-radius: 15px; cursor: pointer; 
            transition: 0.3s; font-weight: bold; font-size: 0.9rem;
        }
        .menu-btn:hover { border-color: var(--primary); transform: translateY(-5px); background: #333; }

        /* Ortak Buton ve Input */
        .btn { border: none; padding: 15px; border-radius: 12px; cursor: pointer; font-weight: bold; color: white; width: 100%; margin-top: 10px; transition: 0.2s; }
        .btn:active { transform: scale(0.98); }
        .hidden { display: none !important; }
        input { 
            width: 80%; padding: 12px; border-radius: 10px; border: none; 
            background: #333; color: white; text-align: center; 
            font-size: 2rem; margin: 15px 0; outline: none; 
        }

        /* Matematik Ayar SayfasÄ± */
        .op-grid { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 10px; margin: 15px 0; }
        .op-btn { background: #333; border: 2px solid #555; color: white; padding: 10px; border-radius: 10px; cursor: pointer; font-size: 1.2rem; }
        .op-btn.selected { border-color: var(--primary); background: #004455; }
        .diff-btn { padding: 10px; font-size: 0.8rem; }
        .diff-btn.active { outline: 3px solid white; }

        /* Oyun AlanÄ± */
        .display-box { font-size: 3.5rem; font-weight: bold; margin-bottom: 20px; }
        .stats { display: flex; justify-content: space-around; font-size: 1.2rem; font-weight: bold; }
        .hint { color: var(--primary); font-weight: bold; margin-top: 10px; }

        /* Modal (Oyun Bitti) */
        #result-modal {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(20, 20, 20, 0.98); border-radius: 30px;
            flex-direction: column; justify-content: center; align-items: center; z-index: 100;
        }
        .correct-flash { background: #1b4332 !important; }
        .wrong-flash { background: #431b1b !important; }
    </style>
</head>
<body>

<div class="container">
    <div id="main-menu">
        <h1>ZEKA MERKEZÄ°</h1>
        <div class="menu-grid">
            <button class="menu-btn" onclick="showMathSetup()">MATEMATÄ°K<br>YARIÅžI</button>
            <button class="menu-btn" onclick="initVerify()">DOÄžRU MU?<br>YANLIÅž MI?</button>
            <button class="menu-btn" onclick="initGuess()">SAYI<br>TAHMÄ°N</button>
            <button class="menu-btn" onclick="initCode()">KOD<br>KIRICI</button>
        </div>
    </div>

    <div id="math-setup" class="hidden">
        <h2 style="color:var(--primary);">Matematik AyarlarÄ±</h2>
        <p>Zorluk SeÃ§:</p>
        <div style="display:flex; gap:5px;">
            <button class="btn diff-btn" style="background:#27ae60" id="d1" onclick="setDiff(10, 30, 'Kolay', 'd1')">KOLAY</button>
            <button class="btn diff-btn" style="background:#f1c40f; color:black" id="d2" onclick="setDiff(50, 25, 'Orta', 'd2')">ORTA</button>
            <button class="btn diff-btn" style="background:#e67e22" id="d3" onclick="setDiff(100, 20, 'Zor', 'd3')">ZOR</button>
        </div>
        <p>Ä°ÅŸlem SeÃ§:</p>
        <div class="op-grid">
            <button class="op-btn selected" id="o1" onclick="setOp('+', 'o1')">+</button>
            <button class="op-btn" id="o2" onclick="setOp('-', 'o2')">-</button>
            <button class="op-btn" id="o3" onclick="setOp('x', 'o3')">x</button>
            <button class="op-btn" id="o4" onclick="setOp('/', 'o4')">Ã·</button>
        </div>
        <button class="btn" style="background:var(--primary); color:black; font-size:1.2rem;" onclick="startMath()">BAÅžLAT!</button>
        <button class="btn" style="background:#444;" onclick="goMenu()">GERÄ°</button>
    </div>

    <div id="game-container" class="hidden">
        <div id="game-area">
            <h2 id="game-title" style="color:var(--primary); margin:0;">Oyun</h2>
            <div id="game-content" style="width:100%;"></div>
        </div>
    </div>

    <div id="result-modal">
        <h2 id="res-title">SÃ¼re Doldu!</h2>
        <p id="res-text">Skorun: 0</p>
        <p id="res-extra" style="color:#aaa; font-size:0.9rem;"></p>
        <button class="btn" style="background:var(--primary); color:black; width:60%;" onclick="goMenu()">TAMAM</button>
    </div>
</div>

<script>
    let score = 0, timeLeft = 0, currentAns, timerInterval;
    let mRange = 10, mTime = 30, mLabel = 'Kolay', mOp = '+';

    const mainMenu = document.getElementById('main-menu');
    const mathSetup = document.getElementById('math-setup');
    const gameContainer = document.getElementById('game-container');
    const gameContent = document.getElementById('game-content');
    const resultModal = document.getElementById('result-modal');

    function goMenu() { location.reload(); }

    function showResult(title, text, extra = "") {
        clearInterval(timerInterval);
        document.getElementById('res-title').innerText = title;
        document.getElementById('res-text').innerText = text;
        document.getElementById('res-extra').innerText = extra;
        resultModal.style.display = 'flex';
    }

    function flash(cls) {
        document.body.classList.add(cls);
        setTimeout(() => document.body.classList.remove(cls), 150);
    }

    /* --- MATEMATÄ°K YARIÅžI MANTIÄžI --- */
    function showMathSetup() {
        mainMenu.classList.add('hidden');
        mathSetup.classList.remove('hidden');
    }

    function setDiff(r, t, l, id) {
        mRange = r; mTime = t; mLabel = l;
        document.querySelectorAll('.diff-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function setOp(op, id) {
        mOp = (op === 'Ã·') ? '/' : op;
        document.querySelectorAll('.op-btn').forEach(b => b.classList.remove('selected'));
        document.getElementById(id).classList.add('selected');
    }

    function startMath() {
        mathSetup.classList.add('hidden');
        gameContainer.classList.remove('hidden');
        document.getElementById('game-title').innerText = "Matematik YarÄ±ÅŸÄ±";
        score = 0; timeLeft = mTime;
        generateMathQuestion();
        runTimer();
    }

    function generateMathQuestion() {
        let n1, n2;
        if(mOp === '+') { n1 = rand(mRange); n2 = rand(mRange); currentAns = n1 + n2; }
        else if(mOp === '-') { n1 = rand(mRange); n2 = rand(mRange); if(n1<n2) [n1,n2]=[n2,n1]; currentAns = n1 - n2; }
        else if(mOp === 'x') { n1 = rand(mRange/2); n2 = rand(10); currentAns = n1 * n2; }
        else if(mOp === '/') { currentAns = rand(10); n2 = rand(10); n1 = currentAns * n2; }
        
        renderMath(n1, n2);
    }

    function rand(max) { return Math.floor(Math.random() * max) + 1; }

    function renderMath(n1, n2) {
        let sign = mOp === '/' ? 'Ã·' : (mOp === 'x' ? 'Ã—' : mOp);
        gameContent.innerHTML = `
            <div class="display-box">${n1} ${sign} ${n2}</div>
            <input type="number" id="ansInp" autofocus placeholder="?">
            <button class="btn" style="background:var(--primary); color:black;" onclick="checkMath()">GÃ–NDER</button>
            <div class="stats">
                <span>Skor: ${score}</span>
                <span>SÃ¼re: <span id="clock">${timeLeft}</span>s</span>
            </div>
        `;
        const inp = document.getElementById('ansInp');
        inp.focus();
        inp.addEventListener('keypress', (e) => { if(e.key === 'Enter') checkMath(); });
    }

    function checkMath() {
        const val = document.getElementById('ansInp').value;
        if(val == currentAns) {
            score += 10; flash('correct-flash'); generateMathQuestion();
        } else {
            flash('wrong-flash'); document.getElementById('ansInp').value = '';
        }
    }

    function runTimer() {
        timerInterval = setInterval(() => {
            timeLeft--;
            if(document.getElementById('clock')) document.getElementById('clock').innerText = timeLeft;
            if(timeLeft <= 0) showResult("SÃ¼re Doldu!", "Toplam Skorun: " + score, `Zorluk: ${mLabel} | Ä°ÅŸlem: ${mOp}`);
        }, 1000);
    }

    /* --- DOÄžRU MU YANLIÅž MI --- */
    function initVerify() {
        mainMenu.classList.add('hidden'); gameContainer.classList.remove('hidden');
        document.getElementById('game-title').innerText = "HÄ±zlÄ± Karar";
        score = 0; nextVerify();
    }
    function nextVerify() {
        let n1 = rand(15), n2 = rand(15), real = n1 + n2;
        let isTrue = Math.random() > 0.5;
        let disp = isTrue ? real : real + rand(3);
        gameContent.innerHTML = `
            <div class="display-box">${n1} + ${n2} = ${disp}</div>
            <button class="btn" style="background:#2ecc71" onclick="verifyAns(true, ${isTrue})">DOÄžRU</button>
            <button class="btn" style="background:#e74c3c" onclick="verifyAns(false, ${isTrue})">YANLIÅž</button>
            <p style="margin-top:20px">Skor: ${score}</p>
        `;
    }
    function verifyAns(p, a) {
        if(p === a) { score += 10; flash('correct-flash'); nextVerify(); }
        else { flash('wrong-flash'); showResult("HatalÄ± Karar!", "Skorun: " + score); }
    }

    /* --- SAYI TAHMÄ°N --- */
    function initGuess() {
        mainMenu.classList.add('hidden'); gameContainer.classList.remove('hidden');
        document.getElementById('game-title').innerText = "SayÄ± Tahmin";
        let secret = rand(100), tries = 0;
        gameContent.innerHTML = `
            <p>1-100 arasÄ± gizli sayÄ±yÄ± bul!</p>
            <input type="number" id="gInp" placeholder="Tahmin">
            <button class="btn" style="background:var(--primary); color:black" onclick="guessIt()">TAHMÄ°N ET</button>
            <p id="h" class="hint">Bol ÅŸans!</p>
        `;
        window.guessIt = () => {
            let v = parseInt(document.getElementById('gInp').value);
            if(isNaN(v)) return; tries++;
            if(v === secret) showResult("Tebrikler!", tries + " denemede buldun.");
            else {
                let d = Math.abs(v - secret);
                let m = d < 10 ? "ðŸ”¥ Ã‡ok SÄ±cak" : d < 25 ? "ðŸ”† SÄ±cak" : "â„ï¸ Buz gibi";
                document.getElementById('h').innerText = m + (v < secret ? " (Daha BÃ¼yÃ¼k)" : " (Daha KÃ¼Ã§Ã¼k)");
                document.getElementById('gInp').value = '';
            }
        };
    }

    /* --- KOD KIRICI --- */
    function initCode() {
        mainMenu.classList.add('hidden'); gameContainer.classList.remove('hidden');
        document.getElementById('game-title').innerText = "Kod KÄ±rÄ±cÄ±";
        let code = Array.from({length: 3}, () => rand(6)), tries = 0;
        gameContent.innerHTML = `
            <p>3 rakamlÄ± kodu (1-6) kÄ±r!</p>
            <input type="text" id="cInp" maxlength="3" placeholder="Ã–rn: 123">
            <button class="btn" style="background:var(--primary); color:black" onclick="codeIt()">DENE</button>
            <div id="l" style="font-size:0.8rem; margin-top:10px; background:#111; height:80px; overflow-y:auto; padding:5px; border-radius:10px;"></div>
        `;
        window.codeIt = () => {
            let v = document.getElementById('cInp').value; if(v.length<3) return; tries++;
            let g = v.split('').map(Number), p = 0, n = 0;
            let tc = [...code], tg = [...g];
            for(let i=0; i<3; i++) if(tg[i]===tc[i]) { p++; tc[i]=tg[i]=null; }
            for(let i=0; i<3; i++) if(tg[i]!==null && tc.includes(tg[i])) { n++; tc[tc.indexOf(tg[i])]=null; }
            if(p===3) showResult("Kod KÄ±rÄ±ldÄ±!", tries + " denemede baÅŸardÄ±n.");
            else document.getElementById('l').innerHTML += `> ${v}: ${p}D ${n}Y<br>`;
        };
    }
</script>
</body>
</html>
