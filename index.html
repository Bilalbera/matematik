<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zeka Oyunları Portalı</title>
    <style>
        :root { --primary: #00d2ff; --bg: #121212; --card: #1e1e1e; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background: var(--card); padding: 30px; border-radius: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); text-align: center; width: 400px; border: 1px solid #333; position: relative; }
        
        /* Menü Tasarımı */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .menu-btn { background: #2c2c2c; border: 2px solid #444; color: white; padding: 20px 10px; border-radius: 15px; cursor: pointer; transition: 0.3s; font-weight: bold; }
        .menu-btn:hover { border-color: var(--primary); transform: translateY(-5px); background: #333; }
        
        /* Ortak Elementler */
        .hidden { display: none !important; }
        .btn { border: none; padding: 15px; border-radius: 12px; cursor: pointer; font-weight: bold; color: white; width: 100%; margin-top: 10px; }
        .back-btn { background: #555; margin-top: 20px; font-size: 0.8rem; padding: 8px; }
        input { width: 80%; padding: 10px; border-radius: 10px; border: none; background: #333; color: white; text-align: center; font-size: 1.2rem; margin: 10px 0; }

        /* Oyun Spesifik */
        #game-area { min-height: 300px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .display-box { font-size: 2.5rem; font-weight: bold; margin-bottom: 20px; }
        .hint { font-size: 1.1rem; margin-top: 10px; color: var(--primary); }
        .true-btn { background: #2ecc71; margin-bottom: 10px; }
        .false-btn { background: #e74c3c; }
    </style>
</head>
<body>

<div class="container">
    <div id="main-menu">
        <h1>ZEKA MERKEZİ</h1>
        <p>Bir oyun seç ve başla!</p>
        <div class="menu-grid">
            <button class="menu-btn" onclick="initMath()">Matematik<br>Yarışı</button>
            <button class="menu-btn" onclick="initVerify()">Doğru mu?<br>Yanlış mı?</button>
            <button class="menu-btn" onclick="initGuess()">Sayı<br>Tahmin</button>
            <button class="menu-btn" onclick="initCode()">Kod<br>Kırıcı</button>
        </div>
    </div>

    <div id="game-container" class="hidden">
        <div id="game-area">
            <h2 id="game-title">Oyun</h2>
            <div id="game-content"></div>
        </div>
        <button class="btn back-btn" onclick="goMenu()">ANA MENÜYE DÖN</button>
    </div>
</div>

<script>
    const mainMenu = document.getElementById('main-menu');
    const gameContainer = document.getElementById('game-container');
    const gameContent = document.getElementById('game-content');
    const gameTitle = document.getElementById('game-title');

    function goMenu() {
        mainMenu.classList.remove('hidden');
        gameContainer.classList.add('hidden');
        clearInterval(window.gameTimer);
    }

    function showGame(title) {
        mainMenu.classList.add('hidden');
        gameContainer.classList.remove('hidden');
        gameTitle.innerText = title;
        gameContent.innerHTML = '';
    }

    // --- 1. MATEMATİK YARIŞI ---
    function initMath() {
        showGame("Matematik Yarışı");
        let score = 0;
        let n1, n2, ans;
        
        function next() {
            n1 = Math.floor(Math.random() * 20) + 1;
            n2 = Math.floor(Math.random() * 20) + 1;
            ans = n1 + n2;
            gameContent.innerHTML = `
                <div class="display-box">${n1} + ${n2}</div>
                <input type="number" id="ansInput" placeholder="Cevap?">
                <p>Skor: ${score}</p>
            `;
            const input = document.getElementById('ansInput');
            input.focus();
            input.oninput = () => {
                if(input.value == ans) { score++; next(); }
            };
        }
        next();
    }

    // --- 2. DOĞRU MU YANLIŞ MI? ---
    function initVerify() {
        showGame("Hızlı Karar");
        let score = 0;
        
        function next() {
            let n1 = Math.floor(Math.random() * 15) + 1;
            let n2 = Math.floor(Math.random() * 15) + 1;
            let realAns = n1 + n2;
            let isTrue = Math.random() > 0.5;
            let displayAns = isTrue ? realAns : realAns + (Math.floor(Math.random() * 4) + 1);
            
            gameContent.innerHTML = `
                <div class="display-box">${n1} + ${n2} = ${displayAns}</div>
                <button class="btn true-btn" id="btnT">DOĞRU</button>
                <button class="btn false-btn" id="btnF">YANLIŞ</button>
                <p>Skor: ${score}</p>
            `;
            
            document.getElementById('btnT').onclick = () => { check(true == isTrue); };
            document.getElementById('btnF').onclick = () => { check(false == isTrue); };
        }

        function check(win) {
            if(win) { score++; next(); } 
            else { alert("Yanlış! Oyun bitti. Skor: " + score); goMenu(); }
        }
        next();
    }

    // --- 3. SAYI TAHMİN (SICAK/SOĞUK) ---
    function initGuess() {
        showGame("Sayı Tahmin");
        let secret = Math.floor(Math.random() * 100) + 1;
        let attempts = 0;

        gameContent.innerHTML = `
            <p>1-100 arası bir sayı tuttum.</p>
            <input type="number" id="guessInp" placeholder="Tahmin et">
            <button class="btn true-btn" id="guessBtn">TAHMİN ET</button>
            <p id="hintText" class="hint">Başlayalım!</p>
        `;

        document.getElementById('guessBtn').onclick = () => {
            let val = parseInt(document.getElementById('guessInp').value);
            attempts++;
            let diff = Math.abs(val - secret);
            let msg = "";
            if(val === secret) { alert("Tebrikler! " + attempts + " kerede buldun."); goMenu(); return; }
            
            if(diff < 5) msg = "Alev alıyor! (Çok Sıcak)";
            else if(diff < 15) msg = "Sıcak";
            else if(diff < 30) msg = "Ilık";
            else msg = "Buz kestik... (Çok Soğuk)";
            
            document.getElementById('hintText').innerText = msg + (val < secret ? " (Yukarı)" : " (Aşağı)");
        };
    }

    // --- 4. KOD KIRICI (MASTERMIND) ---
    function initCode() {
        showGame("Kod Kırıcı");
        let code = Array.from({length: 3}, () => Math.floor(Math.random() * 6) + 1);
        
        gameContent.innerHTML = `
            <p>1-6 arası 3 rakamlı gizli kodu bul!</p>
            <input type="text" id="codeInp" maxlength="3" placeholder="Örn: 123">
            <button class="btn true-btn" id="codeBtn">KODU DENE</button>
            <div id="codeHistory" style="font-size: 0.9rem; margin-top:10px; text-align:left; background:#111; padding:10px; border-radius:10px; max-height:100px; overflow-y:auto;"></div>
        `;

        document.getElementById('codeBtn').onclick = () => {
            let val = document.getElementById('codeInp').value;
            if(val.length !== 3) return;
            let guess = val.split('').map(Number);
            let correctPos = 0;
            let correctNum = 0;

            let tempCode = [...code];
            let tempGuess = [...guess];

            for(let i=0; i<3; i++) {
                if(tempGuess[i] === tempCode[i]) {
                    correctPos++;
                    tempCode[i] = null;
                    tempGuess[i] = null;
                }
            }
            for(let i=0; i<3; i++) {
                if(tempGuess[i] !== null && tempCode.includes(tempGuess[i])) {
                    correctNum++;
                    tempCode[tempCode.indexOf(tempGuess[i])] = null;
                }
            }

            if(correctPos === 3) { alert("KOD KIRILDI! Kazandın!"); goMenu(); }
            else {
                let log = `> ${val}: ${correctPos} Doğru Yer, ${correctNum} Yanlış Yer<br>`;
                document.getElementById('codeHistory').innerHTML += log;
            }
        };
    }
</script>

</body>
</html>
